# ============================================================
# Backend — Local Development Environment
# Copy this file to .env and fill in the values.
# .env is gitignored. Never commit real secrets.
# ============================================================

# ── Supabase ─────────────────────────────────────────────────
# Find these in: Supabase Dashboard → Project Settings → API
SUPABASE_URL=https://<project-ref>.supabase.co
SUPABASE_SERVICE_ROLE_KEY=<service-role-key>

# ── CORS ─────────────────────────────────────────────────────
# Comma-separated list of allowed frontend origins
CORS_ALLOWED_ORIGINS=http://localhost:3000

# ── SDK ──────────────────────────────────────────────────────
# Frontend URL — used to build the OAuth verification link
# sent to the CLI during `sentry-logger init`
SDK_VERIFICATION_BASE_URL=http://localhost:3000

# Backend URL returned to the SDK after device approval.
# This is what the SDK uses as the ingest base URL.
SDK_DEFAULT_DSN=http://localhost:9000

# Set to true to crash on startup if any DB table is missing
SDK_SCHEMA_STRICT_STARTUP=false

# ── Risk Notifications (optional) ────────────────────────────
# How long (seconds) to wait before re-alerting on the same service
NOTIFICATION_COOLDOWN_SECONDS=300

# POST risk alerts to this URL (leave empty to disable)
RISK_ALERT_WEBHOOK_URL=

# ── Email Alerts (optional) ──────────────────────────────────
# If set, risk alerts are also emailed.
# If EMAIL_ALERT_TO is empty, the app owner's email is used instead.
EMAIL_ALERT_FROM=
EMAIL_ALERT_TO=
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true
