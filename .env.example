# ============================================================
# Backend — Local Development Environment
# Copy this file to .env and fill in the values.
# .env is gitignored. Never commit real secrets.
# ============================================================

# ── Supabase ─────────────────────────────────────────────────
# Find these in: Supabase Dashboard → Project Settings → API
SUPABASE_URL=https://<project-ref>.supabase.co
SUPABASE_SERVICE_ROLE_KEY=<service-role-key>

# ── CORS ─────────────────────────────────────────────────────
# Comma-separated list of allowed frontend origins
CORS_ALLOWED_ORIGINS=http://localhost:3000

# ── AI Chat ──────────────────────────────────────────────────
# Get a free key at https://aistudio.google.com/apikey
GEMINI_API_KEY=<your-gemini-api-key>

# ── SDK ──────────────────────────────────────────────────────
# Frontend URL — used to build the OAuth verification link
# sent to the CLI during `sentry-logger init`
SDK_VERIFICATION_BASE_URL=http://localhost:3000

# Backend URL returned to the SDK after device approval.
# This is what the SDK uses as the ingest base URL.
SDK_DEFAULT_DSN=http://localhost:9000

# Set to true to crash on startup if any DB table is missing
SDK_SCHEMA_STRICT_STARTUP=false

# ── Notifications (all optional — configure any/all channels) ──
# How long (seconds) to wait before re-alerting on the same event
NOTIFICATION_COOLDOWN_SECONDS=300

# Telegram
# 1. Open Telegram → search @BotFather → /newbot → copy the token
# 2. Send any message to your bot, then visit:
#    https://api.telegram.org/bot<TOKEN>/getUpdates  → copy chat_id
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# Discord
# Server → Channel Settings → Integrations → Webhooks → New Webhook → Copy URL
DISCORD_WEBHOOK_URL=

# Email via SMTP
# Gmail: Google Account → Security → App Passwords → create one
#   HOST=smtp.gmail.com  PORT=587  TLS=true  USER=you@gmail.com  PASS=<app-password>
# If EMAIL_ALERT_TO is empty, the app owner's email is used instead.
EMAIL_ALERT_FROM=
EMAIL_ALERT_TO=
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true

# Generic JSON webhook (fires alongside the above channels)
RISK_ALERT_WEBHOOK_URL=
